{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await loginUser(credentials);\n    console.log(\"Login Response:\", response); // Debugging\n\n    if (!response.token || !response.role) {\n      throw new Error(\"Invalid response from server\");\n    }\n    localStorage.setItem(\"token\", response.token);\n    localStorage.setItem(\"role\", response.role);\n    console.log(\"Stored Role:\", localStorage.getItem(\"role\")); // Debugging\n\n    if (response.role === \"Doctor\") {\n      navigate(\"/doctor-dashboard\");\n    } else {\n      navigate(\"/dashboard\");\n    }\n  } catch (err) {\n    setError(err.message || \"Invalid credentials\");\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","response","loginUser","credentials","console","log","token","role","Error","localStorage","setItem","getItem","navigate","err","setError","message"],"sources":["/home/kali/Music/timirda/healthcare-system/healthcare-frontend/src/pages/Login.jsx"],"sourcesContent":["const handleSubmit = async (e) => {\n  e.preventDefault();\n  try {\n    const response = await loginUser(credentials);\n    \n    console.log(\"Login Response:\", response); // Debugging\n\n    if (!response.token || !response.role) {\n      throw new Error(\"Invalid response from server\");\n    }\n\n    localStorage.setItem(\"token\", response.token);\n    localStorage.setItem(\"role\", response.role);\n    \n    console.log(\"Stored Role:\", localStorage.getItem(\"role\")); // Debugging\n\n    if (response.role === \"Doctor\") {\n      navigate(\"/doctor-dashboard\");\n    } else {\n      navigate(\"/dashboard\");\n    }\n  } catch (err) {\n    setError(err.message || \"Invalid credentials\");\n  }\n};\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,SAAS,CAACC,WAAW,CAAC;IAE7CC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEJ,QAAQ,CAAC,CAAC,CAAC;;IAE1C,IAAI,CAACA,QAAQ,CAACK,KAAK,IAAI,CAACL,QAAQ,CAACM,IAAI,EAAE;MACrC,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;IACjD;IAEAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAET,QAAQ,CAACK,KAAK,CAAC;IAC7CG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAET,QAAQ,CAACM,IAAI,CAAC;IAE3CH,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEI,YAAY,CAACE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;;IAE3D,IAAIV,QAAQ,CAACM,IAAI,KAAK,QAAQ,EAAE;MAC9BK,QAAQ,CAAC,mBAAmB,CAAC;IAC/B,CAAC,MAAM;MACLA,QAAQ,CAAC,YAAY,CAAC;IACxB;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,QAAQ,CAACD,GAAG,CAACE,OAAO,IAAI,qBAAqB,CAAC;EAChD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}