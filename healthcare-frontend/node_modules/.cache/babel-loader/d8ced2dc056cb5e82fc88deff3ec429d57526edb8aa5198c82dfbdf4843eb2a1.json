{"ast":null,"code":"import{useEffect,useState}from\"react\";import{getUserProfile}from\"../services/authService\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const navigate=useNavigate();const[user,setUser]=useState(null);const[error,setError]=useState(\"\");useEffect(()=>{const fetchProfile=async()=>{const token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");return;}try{const data=await getUserProfile(token);setUser(data);}catch(err){setError(\"Failed to fetch profile\");localStorage.removeItem(\"token\");navigate(\"/login\");}};fetchProfile();},[navigate]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 bg-white p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center mb-4\",children:\"User Profile\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm text-center\",children:error}),user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",user.role]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.removeItem(\"token\");navigate(\"/login\");},className:\"w-full bg-red-500 text-white p-2 rounded mt-3\",children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading profile...\"})]})});};export default Profile;","map":{"version":3,"names":["useEffect","useState","getUserProfile","useNavigate","jsx","_jsx","jsxs","_jsxs","Profile","navigate","user","setUser","error","setError","fetchProfile","token","localStorage","getItem","data","err","removeItem","className","children","name","email","role","onClick"],"sources":["/home/kali/Music/timirda/healthcare-system/healthcare-frontend/src/pages/Profile.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getUserProfile } from \"../services/authService\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Profile = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        navigate(\"/login\");\n        return;\n      }\n      try {\n        const data = await getUserProfile(token);\n        setUser(data);\n      } catch (err) {\n        setError(\"Failed to fetch profile\");\n        localStorage.removeItem(\"token\");\n        navigate(\"/login\");\n      }\n    };\n    fetchProfile();\n  }, [navigate]);\n\n  return (\n    <div className=\"flex justify-center items-center h-screen bg-gray-100\">\n      <div className=\"w-96 bg-white p-6 rounded-lg shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-center mb-4\">User Profile</h2>\n        {error && <p className=\"text-red-500 text-sm text-center\">{error}</p>}\n        {user ? (\n          <div>\n            <p><strong>Name:</strong> {user.name}</p>\n            <p><strong>Email:</strong> {user.email}</p>\n            <p><strong>Role:</strong> {user.role}</p>\n            <button\n              onClick={() => {\n                localStorage.removeItem(\"token\");\n                navigate(\"/login\");\n              }}\n              className=\"w-full bg-red-500 text-white p-2 rounded mt-3\"\n            >\n              Logout\n            </button>\n          </div>\n        ) : (\n          <p>Loading profile...</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,cAAc,KAAQ,yBAAyB,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACO,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVN,QAAQ,CAAC,QAAQ,CAAC,CAClB,OACF,CACA,GAAI,CACF,KAAM,CAAAS,IAAI,CAAG,KAAM,CAAAhB,cAAc,CAACa,KAAK,CAAC,CACxCJ,OAAO,CAACO,IAAI,CAAC,CACf,CAAE,MAAOC,GAAG,CAAE,CACZN,QAAQ,CAAC,yBAAyB,CAAC,CACnCG,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC,CAChCX,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CACDK,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd,mBACEJ,IAAA,QAAKgB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cACpEf,KAAA,QAAKc,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjB,IAAA,OAAIgB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,CACpEV,KAAK,eAAIP,IAAA,MAAGgB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEV,KAAK,CAAI,CAAC,CACpEF,IAAI,cACHH,KAAA,QAAAe,QAAA,eACEf,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACZ,IAAI,CAACa,IAAI,EAAI,CAAC,cACzChB,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACZ,IAAI,CAACc,KAAK,EAAI,CAAC,cAC3CjB,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACZ,IAAI,CAACe,IAAI,EAAI,CAAC,cACzCpB,IAAA,WACEqB,OAAO,CAAEA,CAAA,GAAM,CACbV,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC,CAChCX,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,CACFY,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,QAED,CAAQ,CAAC,EACN,CAAC,cAENjB,IAAA,MAAAiB,QAAA,CAAG,oBAAkB,CAAG,CACzB,EACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}